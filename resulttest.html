<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>resulttest</title>
    <style>

        @font-face {
            font-family: mo;
            src: url(font/neodgm.ttf) format('woff');
        }

        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        #container .header{
            width: 100%;
            height: 80px; 
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #344259;
            font-size: small;
            font-family: mo;
        }

        #container .header h1 a{
            text-decoration: none;
            color: white;
        }

        body {
            background-color: black;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
        }

        #container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        #container .header h1 a:hover {
            color: #FFD700; /* ì—°ë…¸ë‘ìƒ‰ */
        }

        .circle {
            position: absolute;
            width: 50px;
            height: 50px;
            background-color: rgba(0,0,255,0.6);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: gainsboro;
            font-weight: bold;
            font-family: mo;
            transition: color 0.3s; /* ìƒ‰ìƒ ë³€í™”ì— ì• ë‹ˆë©”ì´ì…˜ ì¶”ê°€ */
            padding: 5px;
            box-sizing: border-box;
        }


        .circle:hover{
            color: #ffc400;
            background-color: rgb(56, 126, 255);
        }


        #dataDisplay h2 {
            font-family: mo;
            line-height: 4; /* h2ì˜ í–‰ê°„ ì¡°ì • */
        }   

        #dataContentwrapper{
            width: 600px;
            height: 500px;
            background-color: transparent;
            border: 5px solid white;
            padding: 20px;
            margin-top: 20px;
            position: relative;
        }

        #backButton{
            position: absolute;
            top: 10px;
            right: 10px;
            cursor: pointer;
            padding: 10px 20px;
            font-size: 14px;
            font-family: mo;
            background-color: gray;
            color: white;
        }

        #backButton:hover{
            background-color: darkgray;
            color: black;
        }



        #dataContent p {
            font-family: mo;
            line-height: 2; /* p ìš”ì†Œì˜ í–‰ê°„ ì¡°ì • */
        }
        
        .hidden {
            display: none;
        }

        .q-txt{
            color: gray ;
        }

    </style>
</head>
<body>
    <div id="container">
        <div class="header">
            <h1><a href="https://moonsy0311.github.io/atc2024/">Therefore, TheReefor ë‹¤ì‹œ ì‹œì‘í•˜ê¸°ğŸ’¨</a></h1>
        </div>
    </div>
    <div id="dataDisplay" class="hidden">
        <div id="dataContentwrapper">
            <h2>ë‹µë³€ ë°ì´í„°</h2>
            <div id="dataContent"></div>
            <button id="backButton">X</button>
        </div>
    </div>


    <script>
        const container = document.getElementById('container');
        const dataDisplay = document.getElementById('dataDisplay');
        const dataContent = document.getElementById('dataContent');
        const backButton = document.getElementById('backButton');

        let currentAnswers = []; // í˜„ì¬ ë‹µë³€ ì €ì¥
        let answerIndex = 0; // í˜„ì¬ ë‹µë³€ ì¸ë±ìŠ¤


        function createCircle(answer) {
            const circle = document.createElement('div');
            circle.className = 'circle';
            circle.style.width = '200px'; // ì›ì˜ í¬ê¸° ì¡°ì •
            circle.style.height = '200px'; // ì›ì˜ í¬ê¸° ì¡°ì •
            circle.style.lineHeight = '100px'; // í…ìŠ¤íŠ¸ ìˆ˜ì§ ì •ë ¬
            circle.style.lineHeight = '20px';
            circle.style.fontSize = '20px'; // ê¸€ì í¬ê¸° ì¡°ì •
            circle.style.textAlign = 'center';


            const headerHeight = document.querySelector('.header').offsetHeight;
            const viewportHeight = window.innerHeight;
            const viewportWidth = window.innerWidth;

            const topPosition = Math.random() * (viewportHeight - 200) + headerHeight;  // ì›ì˜ ë†’ì´ë§Œí¼ ë¹¼ì£¼ê¸°
            const leftPosition = Math.random() * (viewportWidth -200); // ì›ì˜ ë„ˆë¹„ë§Œí¼ ë¹¼ì£¼ê¸°

            circle.style.top = topPosition + 'px';
            circle.style.left = leftPosition + 'px';
            circle.textContent = answer.answer4; // ì› í´ë¦­ ì•ˆë‚´

            circle.addEventListener('click', () => {
                showData(answer);
            })

            container.appendChild(circle);
        }



        function fetchData() {
            const allAnswers = JSON.parse(localStorage.getItem('allAnswers')) || [];
            currentAnswers = allAnswers; // ëª¨ë“  ë‹µë³€ ì €ì¥
            if (currentAnswers.length > 0) {
                createCircle(currentAnswers[answerIndex]); // ì²« ë²ˆì§¸ ë‹µë³€ìœ¼ë¡œ ë™ê·¸ë¼ë¯¸ ìƒì„±
                answerIndex++; // ë‹¤ìŒ ì¸ë±ìŠ¤ë¡œ ì´ë™
                setInterval(() => {
                    if (answerIndex < currentAnswers.length) {
                        createCircle(currentAnswers[answerIndex]);
                        answerIndex++;
                    } else {
                        clearInterval(this);
                    }
                }, 500);
            } else {
                alert("ì œì¶œëœ ë‹µë³€ì´ ì—†ìŠµë‹ˆë‹¤.");
            }
        }
            

        function showData(answer) {
            const headerText = `${answer.nameInput}ì˜ ìš©ê¸°`; // ì²« ë²ˆì§¸ ë‹µë³€ì„ ì´ìš©í•œ í…ìŠ¤íŠ¸ ìƒì„±
            const h2Element = dataDisplay.querySelector('h2');
            h2Element.textContent = headerText; // h2ì— ì²« ë²ˆì§¸ ë‹µë³€ìœ¼ë¡œ ë³€ê²½



            dataContent.innerHTML = `
                <p class="q-txt">ì§€ê¸ˆê¹Œì§€ ì¤‘, ê°€ì¥ í° ë„ì „ì€?</p>
                <p class="a-txt"> :${answer.answer1}</p>
                <p class="q-txt">ê·¸ ë„ì „ì„ í›„íšŒí•˜ë‚˜ìš”?</p>
                <p class="a-txt"> :${answer.answer2}</p>
                <p class="q-txt">ì•ìœ¼ë¡œ í•´ë³´ê³  ì‹¶ì€ ë„ì „ì€?</p>
                <p class="a-txt"> :${answer.answer3}</p>
                <p class="q-txt"><br>ì‘ì›ì˜ í•œë§ˆë””!</p>
                <p class="a-txt"> :${answer.answer4}</p>
            `;
            container.classList.add('hidden');
            dataDisplay.classList.remove('hidden');
        }

        backButton.addEventListener('click', () => {
            dataDisplay.classList.add('hidden');
            container.classList.remove('hidden');
        });

        // ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
        fetchData(); // ì´ˆê¸° í˜¸ì¶œ

    </script>
</body>
</html>
